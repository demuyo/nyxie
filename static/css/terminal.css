/* static/css/terminal.css - Estilo Lain com GLITCH ULTRA RÁPIDO */
@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background: #000;
    margin: 0;
    overflow: hidden;
    font-family: 'VT323', monospace;
}

#crt {
    position: relative;
    color: #0f0;
    background: #000;
    padding: 20px;
    height: 100vh;
    overflow-y: auto;
    animation: flicker 0.15s infinite;
}

/* Scanlines (linhas horizontais) */
#crt::before {
    content: " ";
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background: linear-gradient(
        rgba(18, 16, 16, 0) 50%, 
        rgba(0, 0, 0, 0.25) 50%
    );
    background-size: 100% 4px;
    z-index: 2;
    pointer-events: none;
}

/* Overlay de tubo CRT */
#crt::after {
    content: " ";
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background: rgba(18, 16, 16, 0.1);
    opacity: 0;
    z-index: 2;
    pointer-events: none;
    animation: scanlines 0.5s linear infinite;
}

/* ==================== ANIMAÇÕES NORMAIS ==================== */
@keyframes scanlines {
    0% { background-position: 0 0; }
    100% { background-position: 0 100%; }
}

@keyframes flicker {
    0% { opacity: 0.97; }
    50% { opacity: 1; }
    100% { opacity: 0.97; }
}

@keyframes blink {
    50% { opacity: 0; }
}

@keyframes glow {
    from {
        text-shadow: 0 0 5px #f0f, 0 0 10px #f0f;
    }
    to {
        text-shadow: 0 0 10px #f0f, 0 0 20px #f0f, 0 0 30px #f0f;
    }
}

/* ==================== GLITCH PISCOU PERDEU - 0.5s TOTAL ==================== */

/* Classe principal do glitch - VELOCIDADE INSANA */
#crt.glitch {
    animation: 
        glitch-shake 0.01s infinite,
        glitch-color 0.015s infinite,
        glitch-flicker 0.008s infinite !important;
}

/* Camada extra de glitch - VELOCIDADE INSANA */
#crt.glitch::before {
    animation: 
        glitch-scanlines 0.01s infinite,
        glitch-rgb-split 0.012s infinite !important;
}

/* Overlay de ruído - VELOCIDADE INSANA */
#crt.glitch::after {
    background: 
        repeating-linear-gradient(
            0deg,
            rgba(0, 255, 0, 0.2) 0px,
            rgba(0, 255, 0, 0) 1px,
            rgba(255, 0, 255, 0.2) 2px
        ),
        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><filter id="noise"><feTurbulence baseFrequency="0.9"/></filter><rect width="100" height="100" filter="url(%23noise)" opacity="0.5"/></svg>') !important;
    animation: glitch-noise 0.009s infinite !important;
    opacity: 0.9 !important;
}

/* ==================== KEYFRAMES ULTRA RÁPIDOS ==================== */

/* Tremida EXTREMAMENTE VIOLENTA */
@keyframes glitch-shake {
    0% { transform: translate(0, 0) skew(0deg); }
    10% { transform: translate(-12px, -10px) skew(5deg); }
    20% { transform: translate(10px, 8px) skew(-5deg); }
    30% { transform: translate(-8px, 12px) skew(6deg); }
    40% { transform: translate(14px, -6px) skew(-6deg); }
    50% { transform: translate(-10px, 10px) skew(4deg); }
    60% { transform: translate(8px, -14px) skew(-4deg); }
    70% { transform: translate(-12px, 6px) skew(5deg); }
    80% { transform: translate(10px, -8px) skew(-5deg); }
    90% { transform: translate(-6px, 12px) skew(4deg); }
    100% { transform: translate(0, 0) skew(0deg); }
}

/* Cores FRENÉTICAS */
@keyframes glitch-color {
    0% { filter: hue-rotate(0deg) saturate(5) contrast(3); }
    20% { filter: hue-rotate(90deg) saturate(1) contrast(0.3); }
    40% { filter: hue-rotate(180deg) saturate(4) brightness(3); }
    60% { filter: hue-rotate(270deg) saturate(2) contrast(4); }
    80% { filter: hue-rotate(320deg) saturate(5) brightness(0.3); }
    100% { filter: hue-rotate(360deg) saturate(5) contrast(3); }
}

/* Estroboscópio EPILÉTICO */
@keyframes glitch-flicker {
    0% { opacity: 1; }
    10% { opacity: 0; }
    20% { opacity: 1; }
    30% { opacity: 0; }
    40% { opacity: 1; }
    50% { opacity: 0; }
    60% { opacity: 1; }
    70% { opacity: 0; }
    80% { opacity: 1; }
    90% { opacity: 0; }
    100% { opacity: 1; }
}

/* Scanlines HIPER RÁPIDAS */
@keyframes glitch-scanlines {
    0% { background-position: 0 0; background-size: 100% 1px; }
    25% { background-position: 0 100%; background-size: 100% 20px; }
    50% { background-position: 0 -100%; background-size: 100% 2px; }
    75% { background-position: 0 50%; background-size: 100% 30px; }
    100% { background-position: 0 0; background-size: 100% 1px; }
}

/* RGB split EXTREMO */
@keyframes glitch-rgb-split {
    0% {
        text-shadow: 
            0.2em 0 0 rgba(255, 0, 0, 1),
            -0.2em 0 0 rgba(0, 255, 0, 1),
            0 0 0 rgba(0, 0, 255, 1);
    }
    20% {
        text-shadow: 
            -0.2em -0.2em 0 rgba(255, 0, 0, 1),
            0.2em 0.2em 0 rgba(0, 255, 0, 1),
            0 0 0 rgba(0, 0, 255, 1);
    }
    40% {
        text-shadow: 
            0.2em 0.2em 0 rgba(255, 0, 0, 1),
            -0.2em -0.2em 0 rgba(0, 255, 0, 1),
            0 0.1em 0 rgba(0, 0, 255, 1);
    }
    60% {
        text-shadow: 
            -0.2em 0 0 rgba(255, 0, 0, 1),
            0.2em 0 0 rgba(0, 255, 0, 1),
            0 -0.1em 0 rgba(0, 0, 255, 1);
    }
    80% {
        text-shadow: 
            0.1em -0.1em 0 rgba(255, 0, 0, 1),
            -0.1em 0.1em 0 rgba(0, 255, 0, 1),
            0.1em 0.1em 0 rgba(0, 0, 255, 1);
    }
    100% {
        text-shadow: 
            0.2em 0 0 rgba(255, 0, 0, 1),
            -0.2em 0 0 rgba(0, 255, 0, 1),
            0 0 0 rgba(0, 0, 255, 1);
    }
}

/* Ruído CAÓTICO */
@keyframes glitch-noise {
    0% { opacity: 1; background-position: 0 0; }
    20% { opacity: 0.3; background-position: -20% -30%; }
    40% { opacity: 0.9; background-position: 30% 20%; }
    60% { opacity: 0.4; background-position: -30% 40%; }
    80% { opacity: 0.8; background-position: 20% -20%; }
    100% { opacity: 1; background-position: 0 0; }
}

/* ==================== TERMINAL ==================== */

#terminal {
    position: relative;
    z-index: 3;
    font-size: 18px;
    line-height: 1.5;
    max-width: 1200px;
}

#output {
    margin-bottom: 20px;
    white-space: pre-wrap;
    word-wrap: break-word;
}

#input-line {
    display: flex;
    align-items: center;
    position: sticky;
    bottom: 0;
    background: #000;
    padding: 10px 0;
    z-index: 4;
}

.prompt {
    color: #0f0;
    text-shadow: 0 0 5px #0f0;
    margin-right: 8px;
    white-space: nowrap;
}

#input {
    background: transparent;
    border: none;
    color: #0f0;
    font-family: 'VT323', monospace;
    font-size: 18px;
    outline: none;
    flex: 1;
    caret-color: #0f0;
}

#input:focus::after {
    content: '█';
    animation: blink 1s infinite;
    margin-left: 2px;
}

.output-line {
    margin: 5px 0;
    word-wrap: break-word;
}

.user-input {
    color: #0ff;
    text-shadow: 0 0 5px #0ff;
}

.bot-response {
    color: #f0f;
    text-shadow: 0 0 5px #f0f;
    animation: glow 2s ease-in-out infinite alternate;
}

.error {
    color: #f00;
    text-shadow: 0 0 5px #f00, 0 0 10px #f00;
    font-weight: bold;
}

/* Scrollbar customizada */
#crt::-webkit-scrollbar {
    width: 8px;
}

#crt::-webkit-scrollbar-track {
    background: #000;
}

#crt::-webkit-scrollbar-thumb {
    background: #0f0;
    box-shadow: 0 0 5px #0f0;
}

#crt::-webkit-scrollbar-thumb:hover {
    background: #0f0;
    box-shadow: 0 0 10px #0f0;
}

/* Vinheta nas bordas */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    box-shadow: inset 0 0 200px rgba(0, 0, 0, 0.9);
    pointer-events: none;
    z-index: 1;
}

/* Responsivo */
@media (max-width: 768px) {
    #terminal {
        font-size: 16px;
    }
    
    #crt {
        padding: 10px;
    }
    
    .prompt {
        font-size: 14px;
    }
}